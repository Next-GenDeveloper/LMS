import { User } from '../models/User.ts';
import { hashPassword } from './Passwordhash.ts';
const ADMIN_EMAIL = 'admin@9tangle.com';
const ADMIN_PASSWORD = 'Admin@9tangle2025!';
export async function seedAdmin() {
    try {
        // Check if admin already exists
        const existingAdmin = await User.findOne({ email: ADMIN_EMAIL });
        if (existingAdmin) {
            // Ensure existing user is admin
            if (existingAdmin.role !== 'admin') {
                existingAdmin.role = 'admin';
                existingAdmin.isVerified = true;
                await existingAdmin.save();
                console.log('✅ Updated existing user to admin role');
            }
            else {
                console.log('✅ Admin account already exists');
            }
            return;
        }
        // Create new admin account
        const hashedPassword = await hashPassword(ADMIN_PASSWORD);
        const adminUser = new User({
            email: ADMIN_EMAIL,
            password: hashedPassword,
            firstName: 'Super',
            lastName: 'Admin',
            role: 'admin',
            isVerified: true,
        });
        await adminUser.save();
        console.log('✅ Super Admin account created successfully');
        console.log(`   Email: ${ADMIN_EMAIL}`);
        console.log(`   Password: ${ADMIN_PASSWORD}`);
    }
    catch (error) {
        console.error('❌ Error seeding admin account:', error);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VlZEFkbWluLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3V0aWxzL3NlZWRBZG1pbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDekMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWpELE1BQU0sV0FBVyxHQUFHLG1CQUFtQixDQUFDO0FBQ3hDLE1BQU0sY0FBYyxHQUFHLG9CQUFvQixDQUFDO0FBRTVDLE1BQU0sQ0FBQyxLQUFLLFVBQVUsU0FBUztJQUM3QixJQUFJLENBQUM7UUFDSCxnQ0FBZ0M7UUFDaEMsTUFBTSxhQUFhLEdBQUcsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUM7UUFFakUsSUFBSSxhQUFhLEVBQUUsQ0FBQztZQUNsQixnQ0FBZ0M7WUFDaEMsSUFBSSxhQUFhLENBQUMsSUFBSSxLQUFLLE9BQU8sRUFBRSxDQUFDO2dCQUNuQyxhQUFhLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQztnQkFDN0IsYUFBYSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7Z0JBQ2hDLE1BQU0sYUFBYSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUMzQixPQUFPLENBQUMsR0FBRyxDQUFDLHVDQUF1QyxDQUFDLENBQUM7WUFDdkQsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztZQUNoRCxDQUFDO1lBQ0QsT0FBTztRQUNULENBQUM7UUFFRCwyQkFBMkI7UUFDM0IsTUFBTSxjQUFjLEdBQUcsTUFBTSxZQUFZLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDMUQsTUFBTSxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUM7WUFDekIsS0FBSyxFQUFFLFdBQVc7WUFDbEIsUUFBUSxFQUFFLGNBQWM7WUFDeEIsU0FBUyxFQUFFLE9BQU87WUFDbEIsUUFBUSxFQUFFLE9BQU87WUFDakIsSUFBSSxFQUFFLE9BQU87WUFDYixVQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUM7UUFFSCxNQUFNLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN2QixPQUFPLENBQUMsR0FBRyxDQUFDLDRDQUE0QyxDQUFDLENBQUM7UUFDMUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLFdBQVcsRUFBRSxDQUFDLENBQUM7UUFDeEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsY0FBYyxFQUFFLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsZ0NBQWdDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDekQsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vbW9kZWxzL1VzZXIudHMnO1xyXG5pbXBvcnQgeyBoYXNoUGFzc3dvcmQgfSBmcm9tICcuL1Bhc3N3b3JkaGFzaC50cyc7XHJcblxyXG5jb25zdCBBRE1JTl9FTUFJTCA9ICdhZG1pbkA5dGFuZ2xlLmNvbSc7XHJcbmNvbnN0IEFETUlOX1BBU1NXT1JEID0gJ0FkbWluQDl0YW5nbGUyMDI1ISc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VlZEFkbWluKCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBpZiBhZG1pbiBhbHJlYWR5IGV4aXN0c1xyXG4gICAgY29uc3QgZXhpc3RpbmdBZG1pbiA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsOiBBRE1JTl9FTUFJTCB9KTtcclxuICAgIFxyXG4gICAgaWYgKGV4aXN0aW5nQWRtaW4pIHtcclxuICAgICAgLy8gRW5zdXJlIGV4aXN0aW5nIHVzZXIgaXMgYWRtaW5cclxuICAgICAgaWYgKGV4aXN0aW5nQWRtaW4ucm9sZSAhPT0gJ2FkbWluJykge1xyXG4gICAgICAgIGV4aXN0aW5nQWRtaW4ucm9sZSA9ICdhZG1pbic7XHJcbiAgICAgICAgZXhpc3RpbmdBZG1pbi5pc1ZlcmlmaWVkID0gdHJ1ZTtcclxuICAgICAgICBhd2FpdCBleGlzdGluZ0FkbWluLnNhdmUoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFVwZGF0ZWQgZXhpc3RpbmcgdXNlciB0byBhZG1pbiByb2xlJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBBZG1pbiBhY2NvdW50IGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSBuZXcgYWRtaW4gYWNjb3VudFxyXG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoUGFzc3dvcmQoQURNSU5fUEFTU1dPUkQpO1xyXG4gICAgY29uc3QgYWRtaW5Vc2VyID0gbmV3IFVzZXIoe1xyXG4gICAgICBlbWFpbDogQURNSU5fRU1BSUwsXHJcbiAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcclxuICAgICAgZmlyc3ROYW1lOiAnU3VwZXInLFxyXG4gICAgICBsYXN0TmFtZTogJ0FkbWluJyxcclxuICAgICAgcm9sZTogJ2FkbWluJyxcclxuICAgICAgaXNWZXJpZmllZDogdHJ1ZSxcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IGFkbWluVXNlci5zYXZlKCk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFN1cGVyIEFkbWluIGFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgIGNvbnNvbGUubG9nKGAgICBFbWFpbDogJHtBRE1JTl9FTUFJTH1gKTtcclxuICAgIGNvbnNvbGUubG9nKGAgICBQYXNzd29yZDogJHtBRE1JTl9QQVNTV09SRH1gKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHNlZWRpbmcgYWRtaW4gYWNjb3VudDonLCBlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4iXX0=