import mongoose, { Schema } from 'mongoose';
import { DataTypes } from 'sequelize';
import { sequelize } from '../config/database.ts';
const userSchema = new Schema({
    email: { type: String, required: true, unique: true, lowercase: true },
    password: { type: String, required: true },
    firstName: { type: String, required: true },
    lastName: { type: String, required: false, default: '' },
    profilePicture: { type: String },
    bio: { type: String },
    phone: { type: String },
    role: { type: String, enum: ['student', 'admin'], default: 'student' },
    isVerified: { type: Boolean, default: false },
    verificationToken: { type: String },
    preferences: {
        interests: { type: [String], default: [] },
        preferredLanguage: { type: String, default: 'en' },
        notifications: { type: Boolean, default: true },
    },
    achievements: {
        certificates: [{ type: Schema.Types.ObjectId, ref: 'Certificate' }],
        completedQuizzes: [{ type: Schema.Types.ObjectId, ref: 'Quiz' }],
        completedChallenges: [{ type: Schema.Types.ObjectId, ref: 'Challenge' }],
        points: { type: Number, default: 0 },
    },
}, { timestamps: true });
export const User = mongoose.model('User', userSchema);
// PostgreSQL User Model (for reference/audit)
export const UserPostgres = sequelize.define('User', {
    id: {
        type: DataTypes.UUID,
        defaultValue: DataTypes.UUIDV4,
        primaryKey: true,
    },
    email: {
        type: DataTypes.STRING,
        allowNull: false,
        unique: true,
    },
    firstName: DataTypes.STRING,
    lastName: DataTypes.STRING,
    role: {
        type: DataTypes.ENUM('student', 'admin'),
        defaultValue: 'student',
    },
    isActive: {
        type: DataTypes.BOOLEAN,
        defaultValue: true,
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tb2RlbHMvVXNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLFFBQVEsRUFBRSxFQUFFLE1BQU0sRUFBWSxNQUFNLFVBQVUsQ0FBQztBQUN0RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ3RDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQTZCbEQsTUFBTSxVQUFVLEdBQUcsSUFBSSxNQUFNLENBQzNCO0lBQ0UsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRTtJQUN0RSxRQUFRLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7SUFDMUMsU0FBUyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0lBQzNDLFFBQVEsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3hELGNBQWMsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUU7SUFDaEMsR0FBRyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRTtJQUNyQixLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFO0lBQ3ZCLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUU7SUFDdEUsVUFBVSxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFO0lBQzdDLGlCQUFpQixFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRTtJQUNuQyxXQUFXLEVBQUU7UUFDWCxTQUFTLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO1FBQzFDLGlCQUFpQixFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFO1FBQ2xELGFBQWEsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRTtLQUNoRDtJQUNELFlBQVksRUFBRTtRQUNaLFlBQVksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxhQUFhLEVBQUUsQ0FBQztRQUNuRSxnQkFBZ0IsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQztRQUNoRSxtQkFBbUIsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsQ0FBQztRQUN4RSxNQUFNLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7S0FDckM7Q0FDRixFQUNELEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxDQUNyQixDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQVEsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBRTlELDhDQUE4QztBQUM5QyxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7SUFDbkQsRUFBRSxFQUFFO1FBQ0YsSUFBSSxFQUFFLFNBQVMsQ0FBQyxJQUFJO1FBQ3BCLFlBQVksRUFBRSxTQUFTLENBQUMsTUFBTTtRQUM5QixVQUFVLEVBQUUsSUFBSTtLQUNqQjtJQUNELEtBQUssRUFBRTtRQUNMLElBQUksRUFBRSxTQUFTLENBQUMsTUFBTTtRQUN0QixTQUFTLEVBQUUsS0FBSztRQUNoQixNQUFNLEVBQUUsSUFBSTtLQUNiO0lBQ0QsU0FBUyxFQUFFLFNBQVMsQ0FBQyxNQUFNO0lBQzNCLFFBQVEsRUFBRSxTQUFTLENBQUMsTUFBTTtJQUMxQixJQUFJLEVBQUU7UUFDSixJQUFJLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDO1FBQ3hDLFlBQVksRUFBRSxTQUFTO0tBQ3hCO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsSUFBSSxFQUFFLFNBQVMsQ0FBQyxPQUFPO1FBQ3ZCLFlBQVksRUFBRSxJQUFJO0tBQ25CO0NBQ0YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSwgRG9jdW1lbnQgfSBmcm9tICdtb25nb29zZSc7XHJcbmltcG9ydCB7IERhdGFUeXBlcyB9IGZyb20gJ3NlcXVlbGl6ZSc7XHJcbmltcG9ydCB7IHNlcXVlbGl6ZSB9IGZyb20gJy4uL2NvbmZpZy9kYXRhYmFzZS50cyc7XHJcblxyXG4vLyBNb25nb0RCIFVzZXIgU2NoZW1hXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVVzZXIgZXh0ZW5kcyBEb2N1bWVudCB7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICBwYXNzd29yZDogc3RyaW5nO1xyXG4gIGZpcnN0TmFtZTogc3RyaW5nO1xyXG4gIGxhc3ROYW1lOiBzdHJpbmc7XHJcbiAgcHJvZmlsZVBpY3R1cmU/OiBzdHJpbmc7XHJcbiAgYmlvPzogc3RyaW5nO1xyXG4gIHBob25lPzogc3RyaW5nO1xyXG4gIHJvbGU6ICdzdHVkZW50JyB8ICdhZG1pbic7XHJcbiAgaXNWZXJpZmllZDogYm9vbGVhbjtcclxuICB2ZXJpZmljYXRpb25Ub2tlbj86IHN0cmluZztcclxuICBwcmVmZXJlbmNlcz86IHtcclxuICAgIGludGVyZXN0cz86IHN0cmluZ1tdO1xyXG4gICAgcHJlZmVycmVkTGFuZ3VhZ2U/OiBzdHJpbmc7XHJcbiAgICBub3RpZmljYXRpb25zPzogYm9vbGVhbjtcclxuICB9O1xyXG4gIGFjaGlldmVtZW50cz86IHtcclxuICAgIGNlcnRpZmljYXRlczogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRbXTtcclxuICAgIGNvbXBsZXRlZFF1aXp6ZXM6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkW107XHJcbiAgICBjb21wbGV0ZWRDaGFsbGVuZ2VzOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZFtdO1xyXG4gICAgcG9pbnRzOiBudW1iZXI7XHJcbiAgfTtcclxuICBjcmVhdGVkQXQ6IERhdGU7XHJcbiAgdXBkYXRlZEF0OiBEYXRlO1xyXG59XHJcblxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IFNjaGVtYTxJVXNlcj4oXHJcbiAge1xyXG4gICAgZW1haWw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlLCBsb3dlcmNhc2U6IHRydWUgfSxcclxuICAgIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIGZpcnN0TmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBsYXN0TmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSwgZGVmYXVsdDogJycgfSxcclxuICAgIHByb2ZpbGVQaWN0dXJlOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gICAgYmlvOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gICAgcGhvbmU6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgICByb2xlOiB7IHR5cGU6IFN0cmluZywgZW51bTogWydzdHVkZW50JywgJ2FkbWluJ10sIGRlZmF1bHQ6ICdzdHVkZW50JyB9LFxyXG4gICAgaXNWZXJpZmllZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgdmVyaWZpY2F0aW9uVG9rZW46IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgICBwcmVmZXJlbmNlczoge1xyXG4gICAgICBpbnRlcmVzdHM6IHsgdHlwZTogW1N0cmluZ10sIGRlZmF1bHQ6IFtdIH0sXHJcbiAgICAgIHByZWZlcnJlZExhbmd1YWdlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ2VuJyB9LFxyXG4gICAgICBub3RpZmljYXRpb25zOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcclxuICAgIH0sXHJcbiAgICBhY2hpZXZlbWVudHM6IHtcclxuICAgICAgY2VydGlmaWNhdGVzOiBbeyB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ0NlcnRpZmljYXRlJyB9XSxcclxuICAgICAgY29tcGxldGVkUXVpenplczogW3sgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdRdWl6JyB9XSxcclxuICAgICAgY29tcGxldGVkQ2hhbGxlbmdlczogW3sgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdDaGFsbGVuZ2UnIH1dLFxyXG4gICAgICBwb2ludHM6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWw8SVVzZXI+KCdVc2VyJywgdXNlclNjaGVtYSk7XHJcblxyXG4vLyBQb3N0Z3JlU1FMIFVzZXIgTW9kZWwgKGZvciByZWZlcmVuY2UvYXVkaXQpXHJcbmV4cG9ydCBjb25zdCBVc2VyUG9zdGdyZXMgPSBzZXF1ZWxpemUuZGVmaW5lKCdVc2VyJywge1xyXG4gIGlkOiB7XHJcbiAgICB0eXBlOiBEYXRhVHlwZXMuVVVJRCxcclxuICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLlVVSURWNCxcclxuICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgfSxcclxuICBlbWFpbDoge1xyXG4gICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgIGFsbG93TnVsbDogZmFsc2UsXHJcbiAgICB1bmlxdWU6IHRydWUsXHJcbiAgfSxcclxuICBmaXJzdE5hbWU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgbGFzdE5hbWU6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgcm9sZToge1xyXG4gICAgdHlwZTogRGF0YVR5cGVzLkVOVU0oJ3N0dWRlbnQnLCAnYWRtaW4nKSxcclxuICAgIGRlZmF1bHRWYWx1ZTogJ3N0dWRlbnQnLFxyXG4gIH0sXHJcbiAgaXNBY3RpdmU6IHtcclxuICAgIHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxyXG4gICAgZGVmYXVsdFZhbHVlOiB0cnVlLFxyXG4gIH0sXHJcbn0pOyJdfQ==