import mongoose, { Schema } from 'mongoose';
const lessonProgressSchema = new Schema({
    lessonId: { type: String, required: true },
    completed: { type: Boolean, default: false },
    watchedDuration: { type: Number, default: 0 },
    completedAt: { type: Date },
});
const progressSchema = new Schema({
    student: { type: Schema.Types.ObjectId, ref: 'User', required: true },
    course: { type: Schema.Types.ObjectId, ref: 'Course', required: true },
    enrollment: { type: Schema.Types.ObjectId, ref: 'Enrollment', required: true },
    lessonsProgress: [lessonProgressSchema],
    quizzesCompleted: [{ type: Schema.Types.ObjectId, ref: 'Quiz' }],
    assignmentsCompleted: [{ type: Schema.Types.ObjectId, ref: 'Assignment' }],
    overallProgress: { type: Number, default: 0 },
    lastAccessedAt: { type: Date, default: Date.now },
}, { timestamps: true });
export const Progress = mongoose.model('Progress', progressSchema);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJvZ3Jlc3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbW9kZWxzL1Byb2dyZXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sUUFBUSxFQUFFLEVBQUUsTUFBTSxFQUFZLE1BQU0sVUFBVSxDQUFDO0FBb0J0RCxNQUFNLG9CQUFvQixHQUFHLElBQUksTUFBTSxDQUFrQjtJQUN2RCxRQUFRLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7SUFDMUMsU0FBUyxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFO0lBQzVDLGVBQWUsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTtJQUM3QyxXQUFXLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0NBQzVCLENBQUMsQ0FBQztBQUVILE1BQU0sY0FBYyxHQUFHLElBQUksTUFBTSxDQUMvQjtJQUNFLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7SUFDckUsTUFBTSxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRTtJQUN0RSxVQUFVLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0lBQzlFLGVBQWUsRUFBRSxDQUFDLG9CQUFvQixDQUFDO0lBQ3ZDLGdCQUFnQixFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDO0lBQ2hFLG9CQUFvQixFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxDQUFDO0lBQzFFLGVBQWUsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTtJQUM3QyxjQUFjLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFO0NBQ2xELEVBQ0QsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQ3JCLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBWSxVQUFVLEVBQUUsY0FBYyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUxlc3NvblByb2dyZXNzIHtcclxuICBsZXNzb25JZDogc3RyaW5nO1xyXG4gIGNvbXBsZXRlZDogYm9vbGVhbjtcclxuICB3YXRjaGVkRHVyYXRpb246IG51bWJlcjsgLy8gaW4gbWludXRlc1xyXG4gIGNvbXBsZXRlZEF0PzogRGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUHJvZ3Jlc3MgZXh0ZW5kcyBEb2N1bWVudCB7XHJcbiAgc3R1ZGVudDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQ7XHJcbiAgY291cnNlOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZDtcclxuICBlbnJvbGxtZW50OiBtb25nb29zZS5UeXBlcy5PYmplY3RJZDtcclxuICBsZXNzb25zUHJvZ3Jlc3M6IElMZXNzb25Qcm9ncmVzc1tdO1xyXG4gIHF1aXp6ZXNDb21wbGV0ZWQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkW107XHJcbiAgYXNzaWdubWVudHNDb21wbGV0ZWQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkW107XHJcbiAgb3ZlcmFsbFByb2dyZXNzOiBudW1iZXI7IC8vIHBlcmNlbnRhZ2VcclxuICBsYXN0QWNjZXNzZWRBdDogRGF0ZTtcclxufVxyXG5cclxuY29uc3QgbGVzc29uUHJvZ3Jlc3NTY2hlbWEgPSBuZXcgU2NoZW1hPElMZXNzb25Qcm9ncmVzcz4oe1xyXG4gIGxlc3NvbklkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBjb21wbGV0ZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcclxuICB3YXRjaGVkRHVyYXRpb246IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgY29tcGxldGVkQXQ6IHsgdHlwZTogRGF0ZSB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHByb2dyZXNzU2NoZW1hID0gbmV3IFNjaGVtYTxJUHJvZ3Jlc3M+KFxyXG4gIHtcclxuICAgIHN0dWRlbnQ6IHsgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIGNvdXJzZTogeyB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ0NvdXJzZScsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBlbnJvbGxtZW50OiB7IHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnRW5yb2xsbWVudCcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBsZXNzb25zUHJvZ3Jlc3M6IFtsZXNzb25Qcm9ncmVzc1NjaGVtYV0sXHJcbiAgICBxdWl6emVzQ29tcGxldGVkOiBbeyB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1F1aXonIH1dLFxyXG4gICAgYXNzaWdubWVudHNDb21wbGV0ZWQ6IFt7IHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnQXNzaWdubWVudCcgfV0sXHJcbiAgICBvdmVyYWxsUHJvZ3Jlc3M6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgICBsYXN0QWNjZXNzZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBQcm9ncmVzcyA9IG1vbmdvb3NlLm1vZGVsPElQcm9ncmVzcz4oJ1Byb2dyZXNzJywgcHJvZ3Jlc3NTY2hlbWEpOyJdfQ==